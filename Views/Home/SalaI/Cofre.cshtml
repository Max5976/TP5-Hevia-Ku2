@{
    ViewData["Title"] = "Cofre";
}

@await Html.PartialAsync("_TiempoRestante")

<style>
    body {
        background-image: url('/Imagenes/Cofre.png');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        margin: 0;
        padding: 0;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
    }

    .carta, .vela, .libro {
        position: absolute;
    }

    .carta a, .vela a, .libro a {
        display: block;
        position: absolute;
        cursor: pointer;
        background: rgba(255,255,255,0);
    }

    .carta a {
        left: 51.3vw;   
        top: 15vh;    
        width: 26vw;  
        height: 36.5vh; 
        rotate: 8deg;
    }

    .vela a {
        left: 41.5vw;   
        top: 51.5vh;    
        width: 6vw;   
        height: 16vh;  
    }

    .libro a {
        left: 18vw;    
        top: 10vh;    
        width: 22vw;   
        height: 28vh; 
    }

    .mensaje {
        font-size: 200%;
        font-family: 'Fira Mono', 'Roboto Mono', 'Source Code Pro', 'Courier New', Courier, monospace;
    }
</style>

<div class="carta">
    <a href="@Url.Action("Carta")"></a>
</div>

<div class="vela">
    <a href="@Url.Action("Vela")"></a>
</div>

<div class="libro">
    <a href="@Url.Action("NoDisponibleCofre")"></a>
</div>

<audio id="musica" src="/Audio/RoomI.mp3" loop preload="auto"></audio>
<script>
    const audio = document.getElementById('musica');
    window.addEventListener('DOMContentLoaded', function() {
        const savedTime = localStorage.getItem('musicaTime');
        if (savedTime) {
            audio.currentTime = parseFloat(savedTime);
        }
        audio.play().catch(() => {
            // Si no puede reproducir automáticamente, no mostrar botón aquí
        });
    });
    audio.ontimeupdate = function() {
        localStorage.setItem('musicaTime', audio.currentTime);
    };
</script>